---
layout: default
title: debug
---

back

<button id="add-student-btn">Añadir Alumno</button>

# Horario

<table>
  <tr>
    <th>Hora</th>
    <th>Lunes</th>
    <th>Martes</th>
    <th>Miércoles</th>
    <th>Jueves</th>
    <th>Viernes</th>
  </tr>
  <tr>
    <td>00:00 - 01:00</td>
    <td><input type="checkbox" id="mon1"></td>
    <td><input type="checkbox" id="tue1"></td>
    <td><input type="checkbox" id="wed1"></td>
    <td><input type="checkbox" id="thu1"></td>
    <td><input type="checkbox" id="fri1"></td>
  </tr><tr>
    <td>01:00 - 02:00</td>
    <td><input type="checkbox" id="mon2"></td>
    <td><input type="checkbox" id="tue2"></td>
    <td><input type="checkbox" id="wed2"></td>
    <td><input type="checkbox" id="thu2"></td>
    <td><input type="checkbox" id="fri2"></td>
  </tr><tr>
    <td>02:00 - 03:00</td>
    <td><input type="checkbox" id="mon3"></td>
    <td><input type="checkbox" id="tue3"></td>
    <td><input type="checkbox" id="wed3"></td>
    <td><input type="checkbox" id="thu3"></td>
    <td><input type="checkbox" id="fri3"></td>
  </tr><tr>
    <td>03:00 - 04:00</td>
    <td><input type="checkbox" id="mon4"></td>
    <td><input type="checkbox" id="tue4"></td>
    <td><input type="checkbox" id="wed4"></td>
    <td><input type="checkbox" id="thu4"></td>
    <td><input type="checkbox" id="fri4"></td>
  </tr><tr>
    <td>04:00 - 05:00</td>
    <td><input type="checkbox" id="mon5"></td>
    <td><input type="checkbox" id="tue5"></td>
    <td><input type="checkbox" id="wed5"></td>
    <td><input type="checkbox" id="thu5"></td>
    <td><input type="checkbox" id="fri5"></td>
  </tr><tr>
    <td>05:00 - 06:00</td>
    <td><input type="checkbox" id="mon6"></td>
    <td><input type="checkbox" id="tue6"></td>
    <td><input type="checkbox" id="wed6"></td>
    <td><input type="checkbox" id="thu6"></td>
    <td><input type="checkbox" id="fri6"></td>
  </tr><tr>
    <td>06:00 - 07:00</td>
    <td><input type="checkbox" id="mon7"></td>
    <td><input type="checkbox" id="tue7"></td>
    <td><input type="checkbox" id="wed7"></td>
    <td><input type="checkbox" id="thu7"></td>
    <td><input type="checkbox" id="fri7"></td>
  </tr><tr>
    <td>07:00 - 08:00</td>
    <td><input type="checkbox" id="mon8"></td>
    <td><input type="checkbox" id="tue8"></td>
    <td><input type="checkbox" id="wed8"></td>
    <td><input type="checkbox" id="thu8"></td>
    <td><input type="checkbox" id="fri8"></td>
  </tr><tr>
    <td>08:00 - 09:00</td>
    <td><input type="checkbox" id="mon9"></td>
    <td><input type="checkbox" id="tue9"></td>
    <td><input type="checkbox" id="wed9"></td>
    <td><input type="checkbox" id="thu9"></td>
    <td><input type="checkbox" id="fri9"></td>
  </tr><tr>
    <td>09:00 - 10:00</td>
    <td><input type="checkbox" id="mon10"></td>
    <td><input type="checkbox" id="tue10"></td>
    <td><input type="checkbox" id="wed10"></td>
    <td><input type="checkbox" id="thu10"></td>
    <td><input type="checkbox" id="fri10"></td>
  </tr><tr>
    <td>10:00 - 11:00</td>
    <td><input type="checkbox" id="mon11"></td>
    <td><input type="checkbox" id="tue11"></td>
    <td><input type="checkbox" id="wed11"></td>
    <td><input type="checkbox" id="thu11"></td>
    <td><input type="checkbox" id="fri11"></td>
  </tr><tr>
    <td>11:00 - 12:00</td>
    <td><input type="checkbox" id="mon12"></td>
    <td><input type="checkbox" id="tue12"></td>
    <td><input type="checkbox" id="wed12"></td>
    <td><input type="checkbox" id="thu12"></td>
    <td><input type="checkbox" id="fri12"></td>
  </tr><tr>
    <td>12:00 - 13:00</td>
    <td><input type="checkbox" id="mon13"></td>
    <td><input type="checkbox" id="tue13"></td>
    <td><input type="checkbox" id="wed13"></td>
    <td><input type="checkbox" id="thu13"></td>
    <td><input type="checkbox" id="fri13"></td>
  </tr><tr>
    <td>13:00 - 14:00</td>
    <td><input type="checkbox" id="mon14"></td>
    <td><input type="checkbox" id="tue14"></td>
    <td><input type="checkbox" id="wed14"></td>
    <td><input type="checkbox" id="thu14"></td>
    <td><input type="checkbox" id="fri14"></td>
  </tr><tr>
    <td>14:00 - 15:00</td>
    <td><input type="checkbox" id="mon15"></td>
    <td><input type="checkbox" id="tue15"></td>
    <td><input type="checkbox" id="wed15"></td>
    <td><input type="checkbox" id="thu15"></td>
    <td><input type="checkbox" id="fri15"></td>
  </tr><tr>
    <td>15:00 - 16:00</td>
    <td><input type="checkbox" id="mon16"></td>
    <td><input type="checkbox" id="tue16"></td>
    <td><input type="checkbox" id="wed16"></td>
    <td><input type="checkbox" id="thu16"></td>
    <td><input type="checkbox" id="fri16"></td>
  </tr><tr>
    <td>16:00 - 17:00</td>
    <td><input type="checkbox" id="mon17"></td>
    <td><input type="checkbox" id="tue17"></td>
    <td><input type="checkbox" id="wed17"></td>
    <td><input type="checkbox" id="thu17"></td>
    <td><input type="checkbox" id="fri17"></td>
  </tr><tr>
    <td>17:00 - 18:00</td>
    <td><input type="checkbox" id="mon18"></td>
    <td><input type="checkbox" id="tue18"></td>
    <td><input type="checkbox" id="wed18"></td>
    <td><input type="checkbox" id="thu18"></td>
    <td><input type="checkbox" id="fri18"></td>
  </tr><tr>
    <td>18:00 - 19:00</td>
    <td><input type="checkbox" id="mon19"></td>
    <td><input type="checkbox" id="tue19"></td>
    <td><input type="checkbox" id="wed19"></td>
    <td><input type="checkbox" id="thu19"></td>
    <td><input type="checkbox" id="fri19"></td>
  </tr><tr>
    <td>19:00 - 20:00</td>
    <td><input type="checkbox" id="mon20"></td>
    <td><input type="checkbox" id="tue20"></td>
    <td><input type="checkbox" id="wed20"></td>
    <td><input type="checkbox" id="thu20"></td>
    <td><input type="checkbox" id="fri20"></td>
  </tr><tr>
    <td>20:00 - 21:00</td>
    <td><input type="checkbox" id="mon21"></td>
    <td><input type="checkbox" id="tue21"></td>
    <td><input type="checkbox" id="wed21"></td>
    <td><input type="checkbox" id="thu21"></td>
    <td><input type="checkbox" id="fri21"></td>
  </tr><tr>
    <td>21:00 - 22:00</td>
    <td><input type="checkbox" id="mon22"></td>
    <td><input type="checkbox" id="tue22"></td>
    <td><input type="checkbox" id="wed22"></td>
    <td><input type="checkbox" id="thu22"></td>
    <td><input type="checkbox" id="fri22"></td>
  </tr><tr>
    <td>22:00 - 23:00</td>
    <td><input type="checkbox" id="mon23"></td>
    <td><input type="checkbox" id="tue23"></td>
    <td><input type="checkbox" id="wed23"></td>
    <td><input type="checkbox" id="thu23"></td>
    <td><input type="checkbox" id="fri23"></td>
  </tr><tr>
    <td>23:00 - 00:00</td>
    <td><input type="checkbox" id="mon0"></td>
    <td><input type="checkbox" id="tue0"></td>
    <td><input type="checkbox" id="wed0"></td>
    <td><input type="checkbox" id="thu0"></td>
    <td><input type="checkbox" id="fri0"></td>
  </tr>
</table>

<button onclick="sendData()">Enviar</button>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyCBJWfRiKmrVLKXLJ_cY9XQlg0D7U56ZqE",
        authDomain: "popcarautohorario.firebaseapp.com",
        projectId: "popcarautohorario",
        storageBucket: "popcarautohorario.appspot.com",
        messagingSenderId: "1046371810802",
        appId: "1:1046371810802:web:8b9944cd5001359ac23f6b",
        measurementId: "G-WK8NCRW5J6",
        databaseURL: "https://popcarautohorario-default-rtdb.europe-west1.firebasedatabase.app/"
    };
    // Inicializar Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    
    function sendData() {
        const schedule = [];
    const days = ['mon', 'tue', 'wed', 'thu', 'fri'];

    for (let i = 1; i <= 24; i++) {
      days.forEach(day => {
        schedule.push(document.getElementById(`${day}${i}`).checked);
      });
      
    // Aquí puedes enviar el arreglo a tu base de datos
      try {
          await setDoc(doc(db, "profesor", José), horario);
          alert("Horario cambiado correctamente");
      } catch (error) {
          console.error("Cambiando el horario ", error);
          alert("Hubo un error al cambiar el horario");
      }
    }


    document.getElementById('add-student-btn').addEventListener('click', async () => {
        const studentName = prompt("Introduce el nombre del alumno:");
        if (studentName) {
            const studentData = {
                nombre: studentName,
                disponibilidad: Array(48).fill(false) // Array de 48 bools inicializados a false
            };

            try {
                await setDoc(doc(db, "alumnos", studentName), studentData);
                alert("Alumno añadido correctamente");
            } catch (error) {
                console.error("Error añadiendo el alumno: ", error);
                alert("Hubo un error al añadir el alumno");
            }
        }
    });
</script>
